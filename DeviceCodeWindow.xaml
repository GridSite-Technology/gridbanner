<Window x:Class="GridBanner.DeviceCodeWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Azure AD Authentication"
        Width="500"
        Height="350"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        Background="#F5F5F5">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,15">
            <TextBlock Text="Sign in to Azure AD" FontSize="20" FontWeight="Bold" Foreground="#333"/>
            <TextBlock Text="Complete authentication in your browser" FontSize="12" Foreground="#666" Margin="0,5,0,0"/>
        </StackPanel>
        
        <!-- Device Code -->
        <Border Grid.Row="1" Background="White" BorderBrush="#DDD" BorderThickness="1" CornerRadius="4" Padding="15" Margin="0,0,0,15">
            <StackPanel>
                <TextBlock Text="Device Code:" FontWeight="SemiBold" FontSize="12" Foreground="#666" Margin="0,0,0,5"/>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <TextBox Name="DeviceCodeText" 
                             FontFamily="Consolas" 
                             FontSize="18" 
                             FontWeight="Bold" 
                             Foreground="#0078D4"
                             Background="Transparent"
                             BorderThickness="0"
                             TextAlignment="Center"
                             IsReadOnly="True"
                             Cursor="Hand"
                             MouseDown="DeviceCodeText_MouseDown"
                             ToolTip="Click to copy to clipboard"/>
                    <Button Grid.Column="1" 
                            Content="Copy" 
                            Width="60" 
                            Height="28" 
                            Margin="10,0,0,0"
                            Click="CopyCodeButton_Click"
                            ToolTip="Copy device code to clipboard"/>
                </Grid>
            </StackPanel>
        </Border>
        
        <!-- Instructions -->
        <StackPanel Grid.Row="2" Margin="0,0,0,15">
            <TextBlock Text="To sign in:" FontWeight="SemiBold" FontSize="12" Margin="0,0,0,8"/>
            <TextBlock Text="1. Open a web browser and go to:" FontSize="11" Foreground="#666" Margin="0,0,0,3"/>
            <TextBlock Name="VerificationUrlText" 
                       FontFamily="Consolas" 
                       FontSize="10" 
                       Foreground="#0078D4"
                       TextWrapping="Wrap"
                       Margin="10,0,0,8"
                       Cursor="Hand"
                       MouseDown="VerificationUrlText_MouseDown"
                       ToolTip="Click to open in browser"/>
            <TextBlock Text="2. Enter the device code shown above" FontSize="11" Foreground="#666" Margin="0,0,0,3"/>
            <TextBlock Text="3. Sign in with your Azure AD credentials" FontSize="11" Foreground="#666" Margin="0,0,0,3"/>
            <TextBlock Text="4. This window will close automatically when complete" FontSize="11" Foreground="#666"/>
        </StackPanel>
        
        <!-- Status -->
        <Border Grid.Row="3" Background="#E3F2FD" BorderBrush="#2196F3" BorderThickness="1" CornerRadius="4" Padding="15" Margin="0,0,0,15">
            <StackPanel>
                <TextBlock Name="StatusText" 
                           Text="Waiting for authentication..." 
                           FontSize="12" 
                           Foreground="#1976D2"
                           TextWrapping="Wrap"/>
            </StackPanel>
        </Border>
        
        <!-- Cancel Button -->
        <Button Grid.Row="4" 
                Content="Cancel" 
                Width="100" 
                Height="35" 
                HorizontalAlignment="Right"
                Click="CancelButton_Click"/>
    </Grid>
</Window>

