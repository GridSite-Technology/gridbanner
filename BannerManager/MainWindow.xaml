<Window x:Class="BannerManager.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="BannerManager"
        Width="1100"
        Height="720"
        WindowStartupLocation="CenterScreen">
    <Grid Margin="12">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="300"/>
            <ColumnDefinition Width="12"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Left: preset list -->
        <DockPanel Grid.Column="0">
            <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Margin="0,0,0,8">
                <Button Content="Load Samples" Click="LoadSamples_Click" Margin="0,0,6,0"/>
                <Button Content="Import JSON…" Click="Import_Click"/>
            </StackPanel>

            <ListBox x:Name="PresetList"
                     DisplayMemberPath="Name"
                     SelectionChanged="PresetList_SelectionChanged"/>

            <StackPanel DockPanel.Dock="Bottom" Orientation="Horizontal" Margin="0,8,0,0">
                <Button Content="New" Width="72" Click="New_Click" Margin="0,0,6,0"/>
                <Button Content="Save" Width="72" Click="Save_Click" Margin="0,0,6,0"/>
                <Button Content="Delete" Width="72" Click="Delete_Click"/>
            </StackPanel>
        </DockPanel>

        <!-- Right: editor -->
        <ScrollViewer Grid.Column="2" VerticalScrollBarVisibility="Auto">
            <StackPanel>
                <TextBlock Text="Alert Editor" FontSize="18" FontWeight="Bold" Margin="0,0,0,10"/>

                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="170"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="140"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" Grid.Column="0" Text="Preset Name" VerticalAlignment="Center" Margin="0,0,10,6"/>
                    <TextBox Grid.Row="0" Grid.Column="1" x:Name="NameBox" Margin="0,0,10,6"/>

                    <TextBlock Grid.Row="1" Grid.Column="0" Text="Level" VerticalAlignment="Center" Margin="0,0,10,6"/>
                    <ComboBox Grid.Row="1" Grid.Column="1" x:Name="LevelBox" Margin="0,0,10,6">
                        <ComboBoxItem Content="routine"/>
                        <ComboBoxItem Content="urgent"/>
                        <ComboBoxItem Content="critical"/>
                        <ComboBoxItem Content="super_critical"/>
                    </ComboBox>

                    <TextBlock Grid.Row="2" Grid.Column="0" Text="Summary" VerticalAlignment="Center" Margin="0,0,10,6"/>
                    <TextBox Grid.Row="2" Grid.Column="1" x:Name="SummaryBox" Margin="0,0,10,6"/>

                    <TextBlock Grid.Row="3" Grid.Column="0" Text="Message" VerticalAlignment="Top" Margin="0,0,10,6"/>
                    <TextBox Grid.Row="3" Grid.Column="1" x:Name="MessageTextBox" Margin="0,0,10,6" AcceptsReturn="True" Height="180" TextWrapping="Wrap" VerticalScrollBarVisibility="Auto"/>

                    <TextBlock Grid.Row="4" Grid.Column="0" Text="Background" VerticalAlignment="Center" Margin="0,0,10,6"/>
                    <StackPanel Grid.Row="4" Grid.Column="1" Orientation="Horizontal" Margin="0,0,10,6">
                        <TextBox x:Name="BgBox" Width="120" Margin="0,0,8,0"/>
                        <Border Width="26" Height="26" BorderBrush="#333" BorderThickness="1" Background="{Binding ElementName=BgPreview, Path=Background}" x:Name="BgPreview"/>
                        <Button Content="Pick…" Margin="8,0,0,0" Click="PickBg_Click"/>
                    </StackPanel>

                    <TextBlock Grid.Row="5" Grid.Column="0" Text="Foreground" VerticalAlignment="Center" Margin="0,0,10,6"/>
                    <StackPanel Grid.Row="5" Grid.Column="1" Orientation="Horizontal" Margin="0,0,10,6">
                        <TextBox x:Name="FgBox" Width="120" Margin="0,0,8,0"/>
                        <Border Width="26" Height="26" BorderBrush="#333" BorderThickness="1" Background="{Binding ElementName=FgPreview, Path=Background}" x:Name="FgPreview"/>
                        <Button Content="Pick…" Margin="8,0,0,0" Click="PickFg_Click"/>
                    </StackPanel>

                    <TextBlock Grid.Row="6" Grid.Column="0" Text="Contact Name" VerticalAlignment="Center" Margin="0,0,10,6"/>
                    <TextBox Grid.Row="6" Grid.Column="1" x:Name="ContactNameBox" Margin="0,0,10,6"/>

                    <TextBlock Grid.Row="7" Grid.Column="0" Text="Contact Phone" VerticalAlignment="Center" Margin="0,0,10,6"/>
                    <TextBox Grid.Row="7" Grid.Column="1" x:Name="ContactPhoneBox" Margin="0,0,10,6"/>

                    <TextBlock Grid.Row="8" Grid.Column="0" Text="Contact Email" VerticalAlignment="Center" Margin="0,0,10,6"/>
                    <TextBox Grid.Row="8" Grid.Column="1" x:Name="ContactEmailBox" Margin="0,0,10,6"/>

                    <TextBlock Grid.Row="9" Grid.Column="0" Text="Contact Teams" VerticalAlignment="Center" Margin="0,0,10,6"/>
                    <TextBox Grid.Row="9" Grid.Column="1" x:Name="ContactTeamsBox" Margin="0,0,10,6"/>

                    <TextBlock Grid.Row="10" Grid.Column="0" Text="Site (optional)" VerticalAlignment="Center" Margin="0,0,10,0"/>
                    <TextBox Grid.Row="10" Grid.Column="1" x:Name="SiteBox" Margin="0,0,10,0"/>
                    <TextBlock Grid.Row="10" Grid.Column="2" Text="If set, only workstations with matching site_name will see this alert" 
                               VerticalAlignment="Center" TextWrapping="Wrap" Foreground="#666" FontSize="11"/>
                </Grid>

                <Separator Margin="0,16,0,12"/>

                <TextBlock Text="Alert Target File" FontWeight="Bold"/>
                <StackPanel Orientation="Horizontal" Margin="0,8,0,0">
                    <TextBox x:Name="AlertPathBox" Width="520"/>
                    <Button Content="Browse…" Margin="8,0,0,0" Click="BrowseAlertFile_Click"/>
                </StackPanel>
                <TextBlock Text="Trigger writes JSON to the alert file. Clear empties it (but does not delete it). A timestamped backup is created first."
                           Margin="0,6,0,0" Foreground="#666"/>

                <StackPanel Orientation="Horizontal" Margin="0,14,0,0">
                    <Button Content="Trigger Alert" Width="140" Click="Trigger_Click" Margin="0,0,8,0"/>
                    <Button Content="Clear Alert File" Width="140" Click="Clear_Click"/>
                </StackPanel>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</Window>


